"use strict";(self.webpackChunkmy_app=self.webpackChunkmy_app||[]).push([[688],{1743:(e,a,t)=>{t.d(a,{L5:()=>n,LS:()=>i});const r=t(9722).A.create({baseURL:"https://mghjjzmyuuvrnydiaqcb.supabase.co/rest/v1",timeout:1e3,headers:{"X-Custom-Header":"foobar"}});const s=(0,t(5952).UU)("https://mghjjzmyuuvrnydiaqcb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1naGpqem15dXV2cm55ZGlhcWNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNTU1NDYsImV4cCI6MjA3ODYzMTU0Nn0.XW3RhwfjldSxEEZSjy7t783sz2LhShh4n-hcyEBJfnk"),n=async()=>{const{data:e,error:a}=await s.from("patients").select("*");return a?(console.log("Fetch error:",a),[]):e},c="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1naGpqem15dXV2cm55ZGlhcWNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNTU1NDYsImV4cCI6MjA3ODYzMTU0Nn0.XW3RhwfjldSxEEZSjy7t783sz2LhShh4n-hcyEBJfnk",i=async e=>{try{const a="/patients";return await r.post(a,e,{headers:{apikey:c,Authorization:"Bearer ".concat(c),"Content-Type":"application/json",Prefer:"return=representation"}})}catch(a){console.log(a)}}},5688:(e,a,t)=>{t.r(a),t.d(a,{default:()=>o});var r=t(5043),s=t(1743),n=t(5952),c=t(579);const i=(0,n.UU)("https://mghjjzmyuuvrnydiaqcb.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1naGpqem15dXV2cm55ZGlhcWNiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjMwNTU1NDYsImV4cCI6MjA3ODYzMTU0Nn0.XW3RhwfjldSxEEZSjy7t783sz2LhShh4n-hcyEBJfnk"),o=()=>{const[e,a]=(0,r.useState)(),[t,n]=(0,r.useState)(),[o,l]=(0,r.useState)(),[p,m]=(0,r.useState)();console.log(e),console.log(t),console.log(o),console.log(p);return(0,c.jsxs)("form",{onSubmit:async a=>{a.preventDefault();let r=null;if(p){const e=p.name,a="".concat(Date.now(),"-").concat(e),{error:t}=await i.storage.from("patient-images").upload("uploads/".concat(a),p);if(t)return void alert("\u062e\u0637\u0627 \u062f\u0631 \u0622\u067e\u0644\u0648\u062f \u0639\u06a9\u0633");r="uploads/".concat(a)}const n={name:e,phone:t,description:o,image_url:r};await(0,s.LS)(n)},className:"flex flex-col w-full justify-center items-center mt-20 gap-5",children:[(0,c.jsx)("div",{className:"w-1/3  border-gray-300",children:(0,c.jsx)("input",{onChange:e=>a(e.target.value),className:"p-2 border-[1px] border-gray-400 w-full",type:"text",placeholder:"patient-name"})}),(0,c.jsx)("div",{className:"w-1/3  border-gray-300",children:(0,c.jsx)("input",{onChange:e=>n(e.target.value),className:"p-2 border-[1px] border-gray-400 w-full",type:"number",placeholder:"patient-number"})}),(0,c.jsx)("div",{className:"w-1/3  border-1 border-gray-300 ",children:(0,c.jsx)("input",{onChange:e=>l(e.target.value),className:"p-2 border-[1px] border-gray-400 w-full",type:"text",placeholder:"description"})}),(0,c.jsxs)("div",{className:"w-1/3  border-1 border-gray-300",children:[(0,c.jsx)("label",{children:"upload image"}),(0,c.jsx)("input",{onChange:e=>m(e.target.files[0]),className:"p-2 border-[1px] border-gray-400 w-full",type:"file",placeholder:"insert-image"})]}),(0,c.jsx)("button",{className:"w-[150px] p-2 bg-green-500 text-white",children:"submit"})]})}}}]);
//# sourceMappingURL=688.6cdf053f.chunk.js.map